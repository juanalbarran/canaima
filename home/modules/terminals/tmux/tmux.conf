# home/modules/terminals/tmux/tmux.conf
# Enable TrueColor (24-bit) and RGB capability
# This fixes the "washed out" colors in Starship/Ghostty
set-option -sa terminal-overrides ",xterm*:Tc"
set-option -g renumber-windows on

set -g base-index 1
set -g pane-base-index 1
set -s set-clipboard on

set-window-option -g pane-base-index 1
set-window-option -g mode-keys vi

# ------------------
# --- Status bar ---
# ------------------
set -g status-position top

# Transparent background to match Ghostty
# 'bg=default' allows the terminal background to show through
set -g status-style bg=default,fg=white

# Optional: Remove the ugly background on the active window name
set-window-option -g window-status-style bg=default,fg=#a9b1d6
set-window-option -g window-status-current-style bg=default,fg=#7aa2f7

set -g window-status-format "#W "
set -g window-status-current-format "#W "

# Center the window list
set -g status-justify absolute-centre

# remove the time, date and user
set -g status-right ""

set -g status-left "[#S] "
set -g status-left-length 10

# ----------------
# --- Keybinds ---
# ----------------

bind -n M-\{ previous-window
bind -n M-\} next-window

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# if-shell "echo $XDG_SESSION_TYPE | grep -q wayland" \
#    "bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'wl-copy'" \
#    "bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'"

